# –î–µ–º–æ-–ø—Ä–æ–µ–∫—Ç –¥–ª—è –¥–æ–∫–ª–∞–¥–∞


### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π üì¶
``` bash
# —É—Å—Ç–∞–Ω–æ–≤–∫–∞ pipenv –∏ python-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip3 install pipenv
pipenv install
```

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
``` bash
# –∑–∞–ø—É—Å–∫ –±–µ–∫–µ–Ω–¥–∞ —Å –≥–æ—Ä—è—á–µ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π –Ω–∞ localhost:8000
pipenv run python3 manage.py runserver 8000
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã –¥–ª—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –±–µ–∫–µ–Ω–¥–∞ üîß
```
DEBUG=True|False            # –í–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–∫–∏. –ü–æ-—É–º–æ–ª—á–∞–Ω–∏—é: False

ALLOWED_WEB_HOST            # –†–∞–∑—Ä–µ—à–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ HOST.
                            # –ù–µ –≤–ª–∏—è–µ—Ç –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ. –ü–æ-—É–º–æ–ª—á–∞–Ω–∏—é: localhost

DB_HOST                     # –ò–º—è —Ö–æ—Å—Ç–∞ Postgres. –ü–æ-—É–º–æ–ª—á–∞–Ω–∏—é: localhost

DB_PORT                     # –ü–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Postgres. –ü–æ-—É–º–æ–ª—á–∞–Ω–∏—é: 5432

DB_NAME                     # –ù–∞–∑–≤–∞–Ω–∏–µ –ë–î Postgres. –ü–æ-—É–º–æ–ª—á–∞–Ω–∏—é: demo

DB_USER                     # –ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î. –ü–æ-—É–º–æ–ª—á–∞–Ω–∏—é: demo

DB_PASSWORD                 # –ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î. –ü–æ-—É–º–æ–ª—á–∞–Ω–∏—é: demo

STATIC_ROOT                 # –ê–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º
                            # –ü–æ-—É–º–æ–ª—á–∞–Ω–∏—é: /app/static
```

### –†–µ—Å—É—Ä—Å—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è/–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è üßê
- [Django 2.2](https://docs.djangoproject.com/en/2.2/)

#### –ü—Ä–æ–µ–∫—Ç –Ω–µ—Ä–∞–∑—Ä—ã–≤–Ω–æ —Å–≤—è–∑–∞–Ω —Å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π.
* –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: https://github.com/Akkarine/demo_cicd

#### –ù—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
1. –°–æ–∑–¥–∞—Ç—å rsa-key –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –±—ç–∫–∞–ø–∞: https://serverfault.com/a/330740/536744 (–ø—Ä–æ—Å—Ç–æ —Å–≥–µ–Ω–µ—Ä–∏—Ç—å –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
2. –°–æ–∑–¥–∞—Ç—å –≤ GitLab —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ–±—Ä–∞–∑–∞ –±–¥ –¥–ª—è staging
   * https://docs.gitlab.com/ee/user/project/pipelines/schedules.html
3. –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ GitLab:
   * –î–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Ç–µ—Å—Ç–æ–≤–æ–º –∏ production –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö:
      * STAGING_ALLOWED_WEB_HOST
      * PRODUCTION_ALLOWED_WEB_HOST
   * –î–ª—è –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É —Å –µ–∂–µ—á–∞—Å–Ω—ã–º–∏ –±—ç–∫–∞–ø–∞–º–∏ –ë–î (–¥–æ—Å—Ç—É–ø –æ–ø ssh):
      * BACKUP_DB_SERVER_USER
      * BACKUP_DB_SERVER_PASSWORD
      * BACKUP_DB_SERVER_IP - ip –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
      * BACKUP_DB_SERVER_PATH - –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –∫ –±—ç–∫–∞–ø–∞–º –±–µ–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–ª–µ—à–∞
